<!doctype html>
<html lang="en">

<!-- The link below helped me manage pages with css
  Source: https://stackoverflow.com/questions/29788182/how-do-i-link-all-pages-to-the-same-css-external-file -->

<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" type="text/css" href="/adminPage.css" />
  <title>SongsLib App</title>
</head>

<body>

  <div class="image">

<div class="body">

    <h1>Users Accounts</h1>
    <!-- Structuring the table -->
    <!-- Source: https://www.youtube.com/watch?v=W1Kttu53qTg -->

    <table class="table table-striped table-hover">
      <thead class="theadIndex">
        <tr class="tableHead">
          <th>ID</th>
          <th>Name</th>
          <th>E-mail</th>
          <th>Password</th>
          <th>Account Created On</th>
          <th>Action</th>
        </tr>
      </thead>

      <tbody class="table-success">
        <% userData.forEach(user => { %>

        <!-- Put all accounts in row form -->
        <tr>
          <!-- Getting the number or postion of each Account -->
          <td>
            <div id="userNumber" class="font accounts">
              <%= userData.indexOf(user) + 1 %>
            </div>
          </td>

          <!-- Formatting the full name -->
          <td>
            <div id="fullName" class="font accounts">
              <%= user.firstName %>
              <%= user.middleName %>
              <%= user.lastName %>
            </div>
          </td>

          <!-- Formatting email -->
          <td>
            <div id="email" class="font accounts">
              <%= user.email %>
            </div>
          </td>

          <!-- Formatting password -->
          <td>
            <div id="password" class="font accounts">
              <%= user.password %>
            </div>
          </td>

          <!-- Formatting dreated date -->
          <td>
            <div id="createdDate" class="font accounts">
              <%=user.createdAt%>
            </div>
          </td>

          <!-- Formatting buttons (Edit and delete) under action -->
          <td>
            <div class="actionButtons">
              <!-- Edit button -->
              <a id="actionEdit" class="btn btn-success button submit font" href="/<%=user.id%>/edit"><i class="crayon fa-solid fa-pencil"></i></a>
              <!-- Delete button -->
              <form class='removeFormMargin' action="/<%=user.id%>?_method=DELETE" method="POST">
                <input id="actionDelete" class="btn btn-danger button cancel font" type="submit" value="Delete" />
              </form>
            </div>
          </td>

          <% }) %>

        </tr>

      </tbody>

    </table>

    <div id="close">
      <a class="btn btn-primary closeButton " href="/homePage">Close</a>
    </div>

</body>

</body>

</html>